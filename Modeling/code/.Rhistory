rm(new.predictors)
rm(crop.intensity)
rm(mask.soy.area)
# test produce_model_stepwise
data <- cell_tidy
initial.predictors <- c("onset", "intensity")
y.var <- "plant_median"
spatial.auto.model <- "none"
new.predictors <- c("latitude", "longitude", "region", # for spatial effects
"year_index", # for time effects
"soy_age", "onset_historicalRange", # other predictors
"onset:latitude", "onset:longitude", "onset:region", # interactions: for spatial effects
"onset:year_index", # interactions: for time effects
"onset:soy_age", "onset:intensity") # interactions: other predictors
crop.intensity <- "none"
mask.soy.area <- TRUE
model <- produce_model_stepwise(data, initial.predictors, y.var, spatial.auto.model,
new.predictors, crop.intensity, mask.soy.area, 6)
evaluate_model(model$final_model, model$final_predictors, data, "output from produce_model_stepwise")
# remove variables
rm(data)
rm(initial.predictors)
rm(y.var)
rm(spatial.auto.model)
rm(new.predictors)
rm(crop.intensity)
rm(mask.soy.area)
# test produce_model_stepwise
data <- cell_tidy
initial.predictors <- c("onset", "intensity")
y.var <- "plant_median"
spatial.auto.model <- "none"
new.predictors <- c("latitude", "longitude", "region", # for spatial effects
"year_factor", # for time effects
"soy_age", "onset_historicalRange", # other predictors
"onset:latitude", "onset:longitude", "onset:region", # interactions: for spatial effects
"onset:year_factor", # interactions: for time effects
"onset:soy_age", "onset:intensity") # interactions: other predictors
crop.intensity <- "none"
mask.soy.area <- TRUE
model <- produce_model_stepwise(data, initial.predictors, y.var, spatial.auto.model,
new.predictors, crop.intensity, mask.soy.area, 6)
evaluate_model(model$final_model, model$final_predictors, data, "output from produce_model_stepwise")
# remove variables
rm(data)
rm(initial.predictors)
rm(y.var)
rm(spatial.auto.model)
rm(new.predictors)
rm(crop.intensity)
rm(mask.soy.area)
# test produce_model_stepwise
data <- cell_tidy
initial.predictors <- c("onset", "intensity")
y.var <- "plant_median"
spatial.auto.model <- "none"
new.predictors <- c("latitude", "longitude", "muni", # for spatial effects
"year_index", # for time effects
"soy_age", "onset_historicalRange", # other predictors
"onset:latitude", "onset:longitude", "onset:muni", # interactions: for spatial effects
"onset:year_index", # interactions: for time effects
"onset:soy_age", "onset:intensity") # interactions: other predictors
crop.intensity <- "none"
mask.soy.area <- TRUE
model <- produce_model_stepwise(data, initial.predictors, y.var, spatial.auto.model,
new.predictors, crop.intensity, mask.soy.area, 6)
# remove variables
rm(data)
rm(initial.predictors)
rm(y.var)
rm(spatial.auto.model)
rm(new.predictors)
rm(crop.intensity)
rm(mask.soy.area)
# test produce_model_stepwise
data <- cell_tidy
initial.predictors <- c("onset", "intensity")
y.var <- "plant_median"
spatial.auto.model <- "none"
new.predictors <- c("latitude", "longitude", "Muni_code", # for spatial effects
"year_index", # for time effects
"soy_age", "onset_historicalRange", # other predictors
"onset:latitude", "onset:longitude", "onset:Muni_code", # interactions: for spatial effects
"onset:year_index", # interactions: for time effects
"onset:soy_age", "onset:intensity") # interactions: other predictors
crop.intensity <- "none"
mask.soy.area <- TRUE
model <- produce_model_stepwise(data, initial.predictors, y.var, spatial.auto.model,
new.predictors, crop.intensity, mask.soy.area, 6)
evaluate_model(model$final_model, model$final_predictors, data, "output from produce_model_stepwise")
# remove variables
rm(data)
rm(initial.predictors)
rm(y.var)
rm(spatial.auto.model)
rm(new.predictors)
rm(crop.intensity)
rm(mask.soy.area)
# test produce_model_stepwise
data <- cell_tidy
initial.predictors <- c("onset", "intensity")
y.var <- "plant_median"
spatial.auto.model <- "none"
new.predictors <- c("latitude", "longitude", "Muni_code", # for spatial effects
"year_index", # for time effects
"soy_age", "onset_historicalRange", # other predictors
"onset:latitude", "onset:longitude", "onset:Muni_code", # interactions: for spatial effects
"onset:year_index", # interactions: for time effects
"onset:soy_age", "onset:intensity") # interactions: other predictors
crop.intensity <- "none"
mask.soy.area <- TRUE
model <- produce_model_stepwise(data, initial.predictors, y.var, spatial.auto.model,
new.predictors, crop.intensity, mask.soy.area, 6)
evaluate_model(model$final_model, model$final_predictors, data, "output from produce_model_stepwise")
# remove variables
rm(data)
rm(initial.predictors)
rm(y.var)
rm(spatial.auto.model)
rm(new.predictors)
rm(crop.intensity)
rm(mask.soy.area)
# test produce_model_stepwise
data <- cell_tidy
initial.predictors <- c("onset", "intensity")
y.var <- "plant_median"
spatial.auto.model <- "none"
new.predictors <- c("latitude", "longitude", "Muni_code_factor", # for spatial effects
"year_index", # for time effects
"soy_age", "onset_historicalRange", # other predictors
"onset:latitude", "onset:longitude", "onset:Muni_code_factor", # interactions: for spatial effects
"onset:year_index", # interactions: for time effects
"onset:soy_age", "onset:intensity") # interactions: other predictors
crop.intensity <- "none"
mask.soy.area <- TRUE
model <- produce_model_stepwise(data, initial.predictors, y.var, spatial.auto.model,
new.predictors, crop.intensity, mask.soy.area, 6)
evaluate_model(model$final_model, model$final_predictors, data, "output from produce_model_stepwise")
# remove variables
rm(data)
rm(initial.predictors)
rm(y.var)
rm(spatial.auto.model)
rm(new.predictors)
rm(crop.intensity)
rm(mask.soy.area)
# test produce_model_stepwise
data <- cell_tidy
initial.predictors <- c("onset", "intensity")
y.var <- "plant_median"
spatial.auto.model <- "none"
new.predictors <- c("latitude", "longitude", "Muni_code_factor", # for spatial effects
"year_factor", # for time effects
"soy_age", "onset_historicalRange", # other predictors
"onset:latitude", "onset:longitude", "onset:Muni_code_factor", # interactions: for spatial effects
"onset:year_factor", # interactions: for time effects
"onset:soy_age", "onset:intensity") # interactions: other predictors
crop.intensity <- "none"
mask.soy.area <- TRUE
model <- produce_model_stepwise(data, initial.predictors, y.var, spatial.auto.model,
new.predictors, crop.intensity, mask.soy.area, 6)
evaluate_model(model$final_model, model$final_predictors, data, "output from produce_model_stepwise")
# remove variables
rm(data)
rm(initial.predictors)
rm(y.var)
rm(spatial.auto.model)
rm(new.predictors)
rm(crop.intensity)
rm(mask.soy.area)
# test produce_model_stepwise
data <- CARpoly_tidy
initial.predictors <- c("onset", "intensity")
y.var <- "plant_median"
spatial.auto.model <- "none"
new.predictors <- c("latitude", "longitude", "latitude:longitude", # for spatial effects
"year_index", # for time effects
"onset_historicalRange", "poly_area_km2", # other predictors
"onset:latitude", "onset:longitude",  # interactions: for spatial effects
"onset:year_index", # interactions: for time effects
"onset:intensity", "onset:poly_area_km2") # interactions: other predictors
crop.intensity <- "none"
mask.soy.area <- TRUE
model <- produce_model_stepwise(data, initial.predictors, y.var, spatial.auto.model,
new.predictors, crop.intensity, mask.soy.area, 6)
evaluate_model(model$final_model, model$final_predictors, data, "output from produce_model_stepwise")
# remove variables
rm(data)
rm(initial.predictors)
rm(y.var)
rm(spatial.auto.model)
rm(new.predictors)
rm(crop.intensity)
rm(mask.soy.area)
# test produce_model_stepwise
data <- CARpoly_tidy
initial.predictors <- c("onset", "intensity")
y.var <- "plant_median"
spatial.auto.model <- "none"
new.predictors <- c("latitude", "longitude", "latitude:longitude", # for spatial effects
"year_factor", # for time effects
"onset_historicalRange", "poly_area_km2", # other predictors
"onset:latitude", "onset:longitude",  # interactions: for spatial effects
"onset:year_factor", # interactions: for time effects
"onset:intensity", "onset:poly_area_km2") # interactions: other predictors
crop.intensity <- "none"
mask.soy.area <- TRUE
model <- produce_model_stepwise(data, initial.predictors, y.var, spatial.auto.model,
new.predictors, crop.intensity, mask.soy.area, 6)
evaluate_model(model$final_model, model$final_predictors, data, "output from produce_model_stepwise")
# remove variables
rm(data)
rm(initial.predictors)
rm(y.var)
rm(spatial.auto.model)
rm(new.predictors)
rm(crop.intensity)
rm(mask.soy.area)
# test produce_model_stepwise
data <- CARpoly_tidy
initial.predictors <- c("onset", "intensity")
y.var <- "plant_median"
spatial.auto.model <- "none"
new.predictors <- c("latitude", "longitude", "region", # for spatial effects
"year_index", # for time effects
"onset_historicalRange", "poly_area_km2", # other predictors
"onset:latitude", "onset:longitude",  "onset:region", # interactions: for spatial effects
"onset:year_index", # interactions: for time effects
"onset:intensity", "onset:poly_area_km2") # interactions: other predictors
crop.intensity <- "none"
mask.soy.area <- TRUE
model <- produce_model_stepwise(data, initial.predictors, y.var, spatial.auto.model,
new.predictors, crop.intensity, mask.soy.area, 6)
evaluate_model(model$final_model, model$final_predictors, data, "output from produce_model_stepwise")
# remove variables
rm(data)
rm(initial.predictors)
rm(y.var)
rm(spatial.auto.model)
rm(new.predictors)
rm(crop.intensity)
rm(mask.soy.area)
# test produce_model_stepwise
data <- CARpoly_tidy
initial.predictors <- c("onset", "intensity")
y.var <- "plant_median"
spatial.auto.model <- "none"
new.predictors <- c("latitude", "longitude", "region", # for spatial effects
"year_factor", # for time effects
"onset_historicalRange", "poly_area_km2", # other predictors
"onset:latitude", "onset:longitude",  "onset:region", # interactions: for spatial effects
"onset:year_factor", # interactions: for time effects
"onset:intensity", "onset:poly_area_km2") # interactions: other predictors
crop.intensity <- "none"
mask.soy.area <- TRUE
model <- produce_model_stepwise(data, initial.predictors, y.var, spatial.auto.model,
new.predictors, crop.intensity, mask.soy.area, 6)
evaluate_model(model$final_model, model$final_predictors, data, "output from produce_model_stepwise")
# remove variables
rm(data)
rm(initial.predictors)
rm(y.var)
rm(spatial.auto.model)
rm(new.predictors)
rm(crop.intensity)
rm(mask.soy.area)
# test produce_model_stepwise
data <- CARpoly_tidy
initial.predictors <- c("onset", "intensity")
y.var <- "plant_median"
spatial.auto.model <- "none"
new.predictors <- c("latitude", "longitude", "Muni_code_factor", # for spatial effects
"year_index", # for time effects
"onset_historicalRange", "poly_area_km2", # other predictors
"onset:latitude", "onset:longitude",  "onset:Muni_code_factor", # interactions: for spatial effects
"onset:year_index", # interactions: for time effects
"onset:intensity", "onset:poly_area_km2") # interactions: other predictors
crop.intensity <- "none"
mask.soy.area <- TRUE
model <- produce_model_stepwise(data, initial.predictors, y.var, spatial.auto.model,
new.predictors, crop.intensity, mask.soy.area, 6)
evaluate_model(model$final_model, model$final_predictors, data, "output from produce_model_stepwise")
# remove variables
rm(data)
rm(initial.predictors)
rm(y.var)
rm(spatial.auto.model)
rm(new.predictors)
rm(crop.intensity)
rm(mask.soy.area)
# test produce_model_stepwise
data <- CARpoly_tidy
initial.predictors <- c("onset", "intensity")
y.var <- "plant_median"
spatial.auto.model <- "none"
new.predictors <- c("latitude", "longitude", "Muni_code_factor", # for spatial effects
"year_factor", # for time effects
"onset_historicalRange", "poly_area_km2", # other predictors
"onset:latitude", "onset:longitude",  "onset:Muni_code_factor", # interactions: for spatial effects
"onset:year_factor", # interactions: for time effects
"onset:intensity", "onset:poly_area_km2") # interactions: other predictors
crop.intensity <- "none"
mask.soy.area <- TRUE
model <- produce_model_stepwise(data, initial.predictors, y.var, spatial.auto.model,
new.predictors, crop.intensity, mask.soy.area, 6)
evaluate_model(model$final_model, model$final_predictors, data, "output from produce_model_stepwise")
# remove variables
rm(data)
rm(initial.predictors)
rm(y.var)
rm(spatial.auto.model)
rm(new.predictors)
rm(crop.intensity)
rm(mask.soy.area)
# test produce_model_stepwise
data <- muni_tidy
initial.predictors <- c("onset", "intensity")
y.var <- "plant_median"
spatial.auto.model <- "none"
new.predictors <- c("latitude", "longitude", "latitude:longitude", # for spatial effects
"year_index", # for time effects
"onset_historicalRange",  # other predictors
"onset:latitude", "onset:longitude", # interactions: for spatial effects
"onset:year_index", # interactions: for time effects
"onset:intensity") # interactions: other predictors
crop.intensity <- "none"
mask.soy.area <- TRUE
model <- produce_model_stepwise(data, initial.predictors, y.var, spatial.auto.model,
new.predictors, crop.intensity, mask.soy.area, 6)
evaluate_model(model$final_model, model$final_predictors, data, "output from produce_model_stepwise")
# remove variables
rm(data)
rm(initial.predictors)
rm(y.var)
rm(spatial.auto.model)
rm(new.predictors)
rm(crop.intensity)
rm(mask.soy.area)
# test produce_model_stepwise
data <- muni_tidy
initial.predictors <- c("onset", "intensity")
y.var <- "plant_median"
spatial.auto.model <- "none"
new.predictors <- c("latitude", "longitude", "latitude:longitude", # for spatial effects
"year_factor", # for time effects
"onset_historicalRange",  # other predictors
"onset:latitude", "onset:longitude", # interactions: for spatial effects
"onset:year_factor", # interactions: for time effects
"onset:intensity") # interactions: other predictors
crop.intensity <- "none"
mask.soy.area <- TRUE
model <- produce_model_stepwise(data, initial.predictors, y.var, spatial.auto.model,
new.predictors, crop.intensity, mask.soy.area, 6)
evaluate_model(model$final_model, model$final_predictors, data, "output from produce_model_stepwise")
# remove variables
rm(data)
rm(initial.predictors)
rm(y.var)
rm(spatial.auto.model)
rm(new.predictors)
rm(crop.intensity)
rm(mask.soy.area)
# test produce_model_stepwise
data <- muni_tidy
initial.predictors <- c("onset", "intensity")
y.var <- "plant_median"
spatial.auto.model <- "none"
new.predictors <- c("latitude", "longitude", "region", # for spatial effects
"year_index", # for time effects
"onset_historicalRange",  # other predictors
"onset:latitude", "onset:longitude", "onset:region", # interactions: for spatial effects
"onset:year_index", # interactions: for time effects
"onset:intensity") # interactions: other predictors
crop.intensity <- "none"
mask.soy.area <- TRUE
model <- produce_model_stepwise(data, initial.predictors, y.var, spatial.auto.model,
new.predictors, crop.intensity, mask.soy.area, 6)
evaluate_model(model$final_model, model$final_predictors, data, "output from produce_model_stepwise")
# remove variables
rm(data)
rm(initial.predictors)
rm(y.var)
rm(spatial.auto.model)
rm(new.predictors)
rm(crop.intensity)
rm(mask.soy.area)
# test produce_model_stepwise
data <- muni_tidy
initial.predictors <- c("onset", "intensity")
y.var <- "plant_median"
spatial.auto.model <- "none"
new.predictors <- c("latitude", "longitude", "region", # for spatial effects
"year_factor", # for time effects
"onset_historicalRange",  # other predictors
"onset:latitude", "onset:longitude", "onset:region", # interactions: for spatial effects
"onset:year_factor", # interactions: for time effects
"onset:intensity") # interactions: other predictors
crop.intensity <- "none"
mask.soy.area <- TRUE
model <- produce_model_stepwise(data, initial.predictors, y.var, spatial.auto.model,
new.predictors, crop.intensity, mask.soy.area, 6)
evaluate_model(model$final_model, model$final_predictors, data, "output from produce_model_stepwise")
library(ggplot2)
library(tidyverse)
library(dplyr)
library(rgdal)
library(rgeos)
install.packages('rgeos')
install.packages('raster')
install.packages(sf)
install.packages('sf')
library(ggplot2)
library(tidyverse)
library(dplyr)
library(rgdal)
library(rgeos)
library(raster)
library(sf)
library(sp)
library(tmap)
install.packages('tmap')
install.packages("tmap")
library(ggplot2)
library(tidyverse)
library(dplyr)
library(rgdal)
library(rgeos)
library(raster)
library(sf)
library(sp)
library(tmap)
library(ggplot2)
library(tidyverse)
library(dplyr)
library(rgdal)
library(rgeos)
library(raster)
library(sf)
library(sp)
#library(tmap)
source('E:/R-code/Modeling/code/FCN_clean_csvs.R')
library(ggplot2)
library(tidyverse)
library(dplyr)
library(rgdal)
library(rgeos)
library(raster)
library(sf)
library(sp)
#library(tmap)
#E:/R-code/Modeling/code/FCN_clean_csvs.R
source('~/Documents/R-code/Modeling/code/FCN_clean_csvs.R')
median_cell_raw <- read.csv('E:/R-code/Modeling/data/median_onset_cell_v2.csv')
library(ggplot2)
library(tidyverse)
library(dplyr)
library(rgdal)
library(rgeos)
library(raster)
library(sf)
library(sp)
#library(tmap)
#E:/R-code/Modeling/code/FCN_clean_csvs.R
#~/Documents
source('~/Documents/R-code/Modeling/code/FCN_clean_csvs.R')
median_cell_raw <- read.csv('~/DocumentsR-code/Modeling/data/median_onset_cell_v2.csv')
library(ggplot2)
library(tidyverse)
library(dplyr)
library(rgdal)
library(rgeos)
library(raster)
library(sf)
library(sp)
#library(tmap)
#E:/R-code/Modeling/code/FCN_clean_csvs.R
#~/Documents
source('~/Documents/R-code/Modeling/code/FCN_clean_csvs.R')
median_cell_raw <- read.csv('~/Documents/R-code/Modeling/data/median_onset_cell_v2.csv')
percentile5_cell_raw <- read.csv('~/Documents/R-code/Modeling/data/percentile5_onset_cell_v2.csv')
percentile95_cell_raw <- read.csv('~/Documents/R-code/Modeling/data/percentile95_onset_cell_v2.csv')
median_muni_raw <- read.csv('~/Documents/R-code/Modeling/data/median_muni_v2.csv')
percentile5_muni_raw <- read.csv('~/Documents/R-code/Modeling/data/percentile5_muni_v2.csv')
percentile95_muni_raw <- read.csv('~/Documents/R-code/Modeling/data/percentile95_muni_v2.csv')
median_CARpoly_raw <- read.csv('~/Documents/R-code/Modeling/data/median_CARpoly_v2.csv')
percentile5_CARpoly_raw <- read.csv('~/Documents/R-code/Modeling/data/percentile5_CARpoly_v2.csv')
percentile95_CARpoly_raw <- read.csv('~/Documents/R-code/Modeling/data/percentile95_CARpoly_v2.csv')
grid_1deg <- readOGR(dsn = '~/Documents/R-code/Modeling/data/shp/grid_1deg', layer = 'grid_1deg')
library(ggplot2)
library(tidyverse)
library(dplyr)
library(rgdal)
library(rgeos)
library(raster)
library(sf)
library(sp)
#library(tmap)
#E:/R-code/Modeling/code/FCN_clean_csvs.R
#~/Documents
source('~/Documents/R-code/Modeling/code/FCN_clean_csvs.R')
median_cell_raw <- read.csv('~/Documents/R-code/Modeling/data/median_onset_cell_v2.csv')
percentile5_cell_raw <- read.csv('~/Documents/R-code/Modeling/data/percentile5_onset_cell_v2.csv')
percentile95_cell_raw <- read.csv('~/Documents/R-code/Modeling/data/percentile95_onset_cell_v2.csv')
median_muni_raw <- read.csv('~/Documents/R-code/Modeling/data/median_muni_v2.csv')
percentile5_muni_raw <- read.csv('~/Documents/R-code/Modeling/data/percentile5_muni_v2.csv')
percentile95_muni_raw <- read.csv('~/Documents/R-code/Modeling/data/percentile95_muni_v2.csv')
median_CARpoly_raw <- read.csv('~/Documents/R-code/Modeling/data/median_CARpoly_v2.csv')
percentile5_CARpoly_raw <- read.csv('~/Documents/R-code/Modeling/data/percentile5_CARpoly_v2.csv')
percentile95_CARpoly_raw <- read.csv('~/Documents/R-code/Modeling/data/percentile95_CARpoly_v2.csv')
#grid_1deg <- readOGR(dsn = '~/Documents/R-code/Modeling/data/shp/grid_1deg', layer = 'grid_1deg')
munis <- readOGR(dsn = '~/Documents/R-code/Modeling/data/shp/munis', layer = 'munis_SHP')
?readOGR
